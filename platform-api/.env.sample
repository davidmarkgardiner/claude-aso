# Environment Configuration Template
# This file shows the required environment variables.
# In production, all sensitive values are provided by External Secrets from Azure Key Vault.
# For local development, use docker-compose which provides test values.

NODE_ENV=development
PORT=3000

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:7007

# JWT Configuration - Required (from Azure Key Vault: platform-jwt-secret)
JWT_SECRET=
JWT_EXPIRES_IN=24h
JWT_ISSUER=platform-api
JWT_AUDIENCE=platform-users

# Azure AD Configuration - Required (from Azure Key Vault)
# platform-azure-client-id, platform-azure-client-secret, platform-azure-tenant-id
AZURE_CLIENT_ID=
AZURE_CLIENT_SECRET=
AZURE_TENANT_ID=
AZURE_SCOPE=https://graph.microsoft.com/.default

# Kubernetes Configuration
KUBE_CONTEXT=minikube
KUBE_NAMESPACE=platform-system
KUBECONFIG=

# Redis Configuration - Required (from Azure Key Vault: platform-redis-password)
REDIS_URL=
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=platform:

# PostgreSQL Configuration - Required (from Azure Key Vault)
# platform-db-host, platform-db-port, platform-db-name, platform-db-user, platform-db-password
DB_HOST=
DB_PORT=
DB_NAME=
DB_USER=
DB_PASSWORD=
DB_SSL=true
DB_MAX_CONNECTIONS=10

# Argo Workflows Configuration
ARGO_WORKFLOWS_URL=http://localhost:2746
ARGO_NAMESPACE=argo
ARGO_TOKEN=
ARGO_TIMEOUT=30000

# Platform Configuration
PLATFORM_DEFAULT_TIER=small
PLATFORM_MAX_NAMESPACES_PER_TEAM=10
PLATFORM_ALLOWED_FEATURES=istio-injection,monitoring-enhanced,backup-enabled,gpu-access,database-access,external-ingress
PLATFORM_COST_TRACKING=true
PLATFORM_AUDIT_RETENTION_DAYS=90

# Monitoring Configuration
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3001
ALERTMANAGER_URL=http://localhost:9093
KUBECOST_URL=http://localhost:9999

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS=false

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json